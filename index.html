<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,intial-scale=1">
        <title>WebAR</title>
    </head>
    <body style="margin:0px; overflow:hidden;">
        <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>

        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

        <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>

        
        <a-scene embedded arjs="debugUIEnabled:false;" renderer="gammaOutput: true;" vr-mode-ui="enabled: false">
            <a-marker type="pattern" url="pattern-star.patt">
                    <a-entity id="obj" gltf-model="hello2.glb" scale="0.2 0.2 0.2" rotation="-20 0 0" animation-mixer ></a-entity>
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
        <script>
              alert("start9");
              const config_url = 'https://script.google.com/macros/s/AKfycbwTNSaD7zdVyhRr1TrD95T_jM1ZlJFUkC40GwGDxD68LT-r_Zvff3QvEPIFN_-9A0d67Q/exec';

              // 各種メッセージデータをgoogleスプレッドシートから取得する
              var httpObj = new XMLHttpRequest();
              httpObj.open('GET', config_url, true);
              httpObj.send();
              httpObj.onload = function() {
                  var config_data = JSON.parse(this.responseText);
                  var message_words = config_data.message_words;
                  //message_wordsをもとにファイル名を生成
                  let filename = message_words + '.glb';
                  //オブジェクトファイルを変更
                  const obj = document.getElementById("obj");
                  obj.setAttribute("gltf-model",filename);
              }
        </script>
    </body>
</html>

